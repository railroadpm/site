if(window.netlifyIdentity){console.log(">>> Netlify Identity: Available");try{netlifyIdentity.on("error",e=>console.error(">>> Netlify Identity",e)),netlifyIdentity.on("init",function(e){if(console.log(">>> Netlify Identity: In Init Event Handler"),e||"undefined"!=typeof testUser){"undefined"!=typeof testUser&&(e=testUser);let t=document.getElementById("nc-root");if(e.app_metadata&&e.app_metadata.roles&&t){const n=e.app_metadata.roles;n.includes("Administrator")?(t.classList.add("nc-user-role-is-admin"),t.classList.add("nc-user-role-is-aor"),window.ncDefaultCollectionName="reports_bnsf",document.location.href="/#/collections/reports_bnsf"):(t.classList.add("nc-user-role-is-participant"),window.ncDisableInputsByName="CarsOnLine",n.includes("BNSF")?initCmsForRole(t,"BNSF"):n.includes("CN")?initCmsForRole(t,"CN"):n.includes("KCS")?initCmsForRole(t,"KCS"):n.includes("NS")?initCmsForRole(t,"NS"):n.includes("UP")?initCmsForRole(t,"UP"):(window.ncDefaultCollectionName="reports_bnsf",document.location.href="/#/collections/reports_bnsf",setTimeout(()=>{let e=document.getElementsByClassName("nc-app-sidebar-heading")[0];e&&(e.innerText="You don't have access to any Reports. Please contact AAR to request access.",e.setAttribute("style","font-size: 15px; color: red;"),e.parentElement.setAttribute("style","width: 320px;"))},2e3)))}}else netlifyIdentity.on("login",function(){console.log(">>> Netlify Identity: In Login Event Handler"),document.location.href="/"})})}catch(e){console.log(">>> Netlify Identity: Initialization Error",e)}}function initCmsForRole(e,t){const n=t.toLowerCase();e.classList.add(`nc-user-role-is-${n}`),window.ncDefaultCollectionName=`reports_${n}`,document.location.href=`/#/collections/reports_${n}`}